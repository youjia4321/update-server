(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3b05"],{"02f3":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("br"),s("strong",[t._v("WebSocket测试")]),s("br"),s("br"),s("Input",{staticStyle:{width:"350px"},attrs:{type:"text",icon:"ios-folder",placeholder:"Enter message..."},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),s("br"),s("br"),s("Button",{attrs:{type:"primary"},on:{click:t.send}},[t._v("发送消息")]),s("br"),t._l(t.messages,function(e,n){return s("p",{key:n},[s("strong",{domProps:{innerHTML:t._s(e)}})])})],2)},o=[],i={data:function(){return{path:"ws://127.0.0.1:8080/websocket",socket:"",text:"",messages:[]}},created:function(){this.init()},methods:{init:function(){"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(this.socket=new WebSocket(this.path),this.socket.onopen=this.open,this.socket.onerror=this.error,this.socket.onmessage=this.getMessage)},open:function(){console.log("socket连接成功")},error:function(){this.init(),console.log("连接错误")},getMessage:function(t){this.messages.push("服务器返回文件："+t.data);var e="http://127.0.0.1:8000/download/"+t.data;window.open(e)},send:function(){var t="documents/"+this.text;this.socket.send(t),this.messages.push("下载文件："+this.text),this.text=""},close:function(){console.log("socket已经关闭")}},destroyed:function(){this.socket.onclose=this.close}},c=i,r=s("2877"),a=Object(r["a"])(c,n,o,!1,null,null,null);e["default"]=a.exports}}]);
//# sourceMappingURL=chunk-2d0a3b05.19ac75bf.js.map